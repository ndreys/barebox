soc vf610
loadaddr 0x80000000
dcdofs 0x400

#include <mach/vf610-iomux-regs.h>
#include <mach/vf610-ddrmc-regs.h>

#include <mach/flash-header/vf610-ddr-pll2-400mhz.imxcfg>
#include <mach/flash-header/vf610-iomux-ddr-default.imxcfg>
#include <mach/flash-header/vf610-ddr-cr-default.imxcfg>

wm 32 DDRMC_CR12 0x00000506
wm 32 DDRMC_CR13 0x06040400
wm 32 DDRMC_CR14 0x1006040e
wm 32 DDRMC_CR26 0x0c300068
wm 32 DDRMC_CR31 0x006c0200
wm 32 DDRMC_CR49 0x00000000
wm 32 DDRMC_CR51 0x00000000
wm 32 DDRMC_CR57 0x02000000
wm 32 DDRMC_CR73 0x0a010100
wm 32 DDRMC_CR76 0x03030000
wm 32 DDRMC_CR102 0x00000000
wm 32 DDRMC_CR105 0x00000c00
wm 32 DDRMC_CR106 0x00000000
wm 32 DDRMC_CR110 0x0000000c

/*
 * zii-vf610-dev derivatives come with 512MiB of RAM, so we need to
 * adjust, DDR chip's capacity.
 */
wm 32 DDRMC_CR73 0x0a010100

#include <mach/flash-header/vf610-ddr-phy-default.imxcfg>

wm 32 DDRMC_CR00 DDRMC_CR00_DRAM_CLASS_DDR3_START

check 32 until_any_bit_set 0x400ae140 0x100

wm 32 0x80000000 0xa5a5a5a5
check 32 until_any_bit_set 0x80000000 0xa5a5a5a5

wm 32 0x400ae000 0x00000600
wm 32 0x400ae000 0x00000601

check 32 until_any_bit_set 0x400ae140 0x100



